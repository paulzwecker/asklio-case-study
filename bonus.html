<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementation Manager Mini Case | Bonusfrage</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            primary: '#3b82f6',
                            accent: '#06b6d4', // Cyan for tech vibe
                            glow: '#8b5cf6'    // Violet for AI vibe
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #0f172a;
            color: #f8fafc;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        /* Gradient Text */
        .text-gradient {
            background: linear-gradient(to right, #22d3ee, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        /* Reveal on Scroll */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Rocket Container */
        #canvas-container {
            position: absolute;
            top: 0;
            right: 0;
            width: 50%; /* Default desktop */
            height: 100vh;
            z-index: 0;
            pointer-events: none; /* Let clicks pass through */
        }

        @media (max-width: 768px) {
            #canvas-container {
                width: 100%;
                height: 50vh;
                position: relative;
            }
        }
    </style>
</head>
<body class="antialiased selection:bg-cyan-500 selection:text-white">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 top-0 start-0 border-b border-gray-800 bg-slate-900/80 backdrop-blur-md">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <span class="self-center text-xl font-bold whitespace-nowrap text-white font-mono tracking-tighter">
                <span class="text-cyan-400">&lt;</span>MiniCase<span class="text-cyan-400">/&gt;</span>
            </span>
            <div class="hidden w-full md:block md:w-auto">
                <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0">
                    <li><a href="#intro" class="block py-2 px-3 text-gray-300 hover:text-cyan-400 transition-colors">Intro</a></li>
                    <li><a href="#usecase" class="block py-2 px-3 text-gray-300 hover:text-cyan-400 transition-colors">Use Case</a></li>
                    <li><a href="#challenges" class="block py-2 px-3 text-gray-300 hover:text-cyan-400 transition-colors">Challenges</a></li>
                    <li><a href="#solution" class="block py-2 px-3 text-cyan-400 border border-cyan-400 rounded-md hover:bg-cyan-400 hover:text-slate-900 transition-all">Solution</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="intro" class="relative min-h-screen flex items-center pt-20 overflow-hidden">
        <!-- 3D Rocket Container -->
        <div id="canvas-container" class="md:absolute md:right-0 md:top-0 h-screen w-full md:w-1/2 z-0"></div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="space-y-8">
                    <div class="inline-flex items-center space-x-2 bg-slate-800/50 rounded-full px-3 py-1 border border-cyan-500/30 text-cyan-400 text-sm font-mono">
                        <span class="relative flex h-2 w-2">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                          <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-500"></span>
                        </span>
                        <span>Bonusfrage: Implementation Manager</span>
                    </div>
                    
                    <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight leading-tight">
                        Agentic AI <br>
                        <span class="text-gradient">Implementation</span>
                    </h1>
                    
                    <p class="text-lg text-slate-400 max-w-lg leading-relaxed">
                        Warum ich <strong>Codex</strong> wähle und wie wir damit digitale Zwillinge bei <strong>Bosch Home Comfort</strong> revolutionieren.
                    </p>

                    <!-- Slide 1 Content: Mein Zugang -->
                    <div class="glass-card p-6 rounded-xl border-l-4 border-cyan-500 mt-8 reveal active">
                        <h3 class="text-xl font-bold text-white mb-3 flex items-center gap-2">
                            <i data-lucide="cpu" class="w-5 h-5 text-cyan-400"></i>
                            Mein Zugang zu AI Agents
                        </h3>
                        <p class="text-slate-300 mb-4 text-sm">
                            Ich habe keinen „Lieblings-Agenten“ – ich finde vor allem das Prinzip von LLM-basierten Agents faszinierend.
                        </p>
                        <ul class="space-y-2 text-sm text-slate-400">
                            <li class="flex items-start gap-2">
                                <i data-lucide="check-circle" class="w-4 h-4 text-green-400 mt-1"></i>
                                <span>Agents können komplexe, mehrstufige Aufgaben übernehmen.</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i data-lucide="terminal" class="w-4 h-4 text-purple-400 mt-1"></i>
                                <span><strong>Praxis:</strong> Ich nutze Codex regelmäßig für MVPs, Skripte und um Ideen schnell in Code zu übersetzen.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce hidden md:block">
            <i data-lucide="chevrons-down" class="w-6 h-6 text-slate-500"></i>
        </div>
    </section>

    <!-- Use Case Section -->
    <section id="usecase" class="py-24 bg-slate-900 relative">
        <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-20"></div>
        
        <div class="container mx-auto px-6">
            <div class="text-center mb-16 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Use Case: Virtual Testing</h2>
                <p class="text-slate-400">Bosch Home Comfort Group</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <!-- Visual/Context -->
                <div class="relative reveal">
                    <div class="absolute -inset-4 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg blur opacity-25"></div>
                    <div class="relative glass-card p-8 rounded-lg">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="bg-slate-800 p-3 rounded-lg">
                                <i data-lucide="thermometer" class="w-8 h-8 text-orange-400"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">Digitale Zwillinge</h3>
                                <p class="text-sm text-slate-400">Wärmepumpensysteme</p>
                            </div>
                        </div>
                        <div class="space-y-4 text-slate-300">
                            <p><strong>Ziel:</strong> Automatisierung von Testprozessen & schnellere Entscheidungsfindung.</p>
                            <div class="h-px bg-slate-700 my-4"></div>
                            <h4 class="text-sm font-mono text-cyan-400 uppercase">Typische Aufgaben</h4>
                            <ul class="list-disc list-inside space-y-2 text-sm pl-2">
                                <li>Validierung digitaler Zwillinge</li>
                                <li>Planung virtueller Testkampagnen</li>
                                <li>Internationale Zusammenarbeit</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Agent Role -->
                <div class="reveal delay-200">
                    <h3 class="text-2xl font-bold mb-6 text-white">Rolle des Agent-Systems</h3>
                    <div class="space-y-4">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-cyan-900/50 flex items-center justify-center flex-shrink-0 text-cyan-400 border border-cyan-500/20">1</div>
                            <div>
                                <h4 class="font-bold text-white">Translator</h4>
                                <p class="text-slate-400 text-sm">Übersetzt natürliche Sprache in ausführbare Testfälle & Skripte.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-purple-900/50 flex items-center justify-center flex-shrink-0 text-purple-400 border border-purple-500/20">2</div>
                            <div>
                                <h4 class="font-bold text-white">Automator</h4>
                                <p class="text-slate-400 text-sm">Automatisiert Auswertungen und generiert Reports.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-orange-900/50 flex items-center justify-center flex-shrink-0 text-orange-400 border border-orange-500/20">3</div>
                            <div>
                                <h4 class="font-bold text-white">Knowledge Hub</h4>
                                <p class="text-slate-400 text-sm">Zentrales Wissen über Modelle, Messdaten, Normen und Historie.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Challenges Section -->
    <section id="challenges" class="py-24 relative overflow-hidden">
        <!-- Background Elements -->
        <div class="absolute top-1/4 right-0 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"></div>
        <div class="absolute bottom-1/4 left-0 w-96 h-96 bg-cyan-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"></div>

        <div class="container mx-auto px-6 relative z-10">
            <h2 class="text-3xl md:text-5xl font-bold text-center mb-16">Drei zentrale <span class="text-gradient">Challenges</span></h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Challenge 1 -->
                <div class="glass-card p-8 rounded-2xl hover:border-cyan-500/50 transition-all duration-300 group reveal">
                    <div class="w-14 h-14 bg-red-500/10 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <i data-lucide="shield-alert" class="w-8 h-8 text-red-400"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Sicherheit & Validität</h3>
                    <p class="text-slate-400 text-sm mb-4">Risiko: Agent verändert Modelle ohne Einhaltung der Physik/Normen.</p>
                    <div class="bg-slate-800/50 p-4 rounded-lg border-l-2 border-green-500">
                        <span class="text-xs font-mono text-green-400 uppercase tracking-wider">Lösung</span>
                        <p class="text-sm text-slate-300 mt-1">Assistenzmodus (kein Autopilot), Policies, 4-Augen-Review, Logging & Git-Historie.</p>
                    </div>
                </div>

                <!-- Challenge 2 -->
                <div class="glass-card p-8 rounded-2xl hover:border-cyan-500/50 transition-all duration-300 group reveal delay-100">
                    <div class="w-14 h-14 bg-blue-500/10 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <i data-lucide="network" class="w-8 h-8 text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Integration</h3>
                    <p class="text-slate-400 text-sm mb-4">Komplexe Landschaft (SimTools, DBs). Risiko von Insellösungen.</p>
                    <div class="bg-slate-800/50 p-4 rounded-lg border-l-2 border-green-500">
                        <span class="text-xs font-mono text-green-400 uppercase tracking-wider">Lösung</span>
                        <p class="text-sm text-slate-300 mt-1">Zentrale Agent-Plattform als Hub mit standardisierten Tools (run_sim, fetch_data).</p>
                    </div>
                </div>

                <!-- Challenge 3 -->
                <div class="glass-card p-8 rounded-2xl hover:border-cyan-500/50 transition-all duration-300 group reveal delay-200">
                    <div class="w-14 h-14 bg-purple-500/10 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <i data-lucide="users" class="w-8 h-8 text-purple-400"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Governance</h3>
                    <p class="text-slate-400 text-sm mb-4">Diverse Stakeholder. Risiko: Skepsis ("Black Box") oder Kontrollverlust.</p>
                    <div class="bg-slate-800/50 p-4 rounded-lg border-l-2 border-green-500">
                        <span class="text-xs font-mono text-green-400 uppercase tracking-wider">Lösung</span>
                        <p class="text-sm text-slate-300 mt-1">Klare Rolle (Agent = Tool), Governance-Gremium, Enablement der Teams.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Architecture Section -->
    <section id="solution" class="py-24 bg-slate-900 border-t border-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl md:text-5xl font-bold mb-12">Lösungsarchitektur & Roadmap</h2>

            <!-- Architecture Diagram (CSS Grid) -->
            <div class="glass-card p-8 rounded-2xl mb-16 reveal">
                <h3 class="text-xl font-mono text-cyan-400 mb-6">&lt;SystemArchitecture /&gt;</h3>
                <div class="flex flex-col gap-4">
                    <!-- User Layer -->
                    <div class="border border-dashed border-slate-600 rounded-lg p-4 flex flex-col items-center">
                        <span class="text-xs text-slate-500 uppercase tracking-widest mb-2">User Layer</span>
                        <div class="flex gap-4">
                            <span class="bg-slate-700 px-4 py-2 rounded text-sm">IDE</span>
                            <span class="bg-slate-700 px-4 py-2 rounded text-sm">Web-UI</span>
                            <span class="bg-slate-700 px-4 py-2 rounded text-sm">CLI</span>
                        </div>
                    </div>
                    
                    <!-- Arrow -->
                    <div class="h-6 w-0.5 bg-cyan-500 mx-auto"></div>

                    <!-- Platform Layer -->
                    <div class="bg-gradient-to-r from-cyan-900/40 to-purple-900/40 border border-cyan-500/30 rounded-lg p-6 text-center shadow-[0_0_15px_rgba(6,182,212,0.15)]">
                        <h4 class="font-bold text-white mb-2">Agent Platform & Orchestrator</h4>
                        <div class="flex justify-center gap-4 text-xs text-slate-300">
                            <span class="flex items-center gap-1"><i data-lucide="lock" class="w-3 h-3"></i> Policy Engine</span>
                            <span class="flex items-center gap-1"><i data-lucide="credit-card" class="w-3 h-3"></i> Cost Mgmt</span>
                            <span class="flex items-center gap-1"><i data-lucide="eye" class="w-3 h-3"></i> Audit Logs</span>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div class="h-6 w-0.5 bg-cyan-500 mx-auto"></div>

                    <!-- Tool Layer -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-slate-800 p-3 rounded text-center text-sm border-b-2 border-orange-500">Simulation</div>
                        <div class="bg-slate-800 p-3 rounded text-center text-sm border-b-2 border-blue-500">Databases</div>
                        <div class="bg-slate-800 p-3 rounded text-center text-sm border-b-2 border-white">Git / VCS</div>
                        <div class="bg-slate-800 p-3 rounded text-center text-sm border-b-2 border-green-500">Reporting</div>
                    </div>
                </div>
            </div>

            <!-- Phased Rollout -->
            <div class="space-y-8">
                <h3 class="text-2xl font-bold mb-6">Integrationsvorgehen</h3>
                
                <div class="border-l-2 border-slate-700 ml-4 space-y-12">
                    <!-- Phase 1 -->
                    <div class="relative pl-8 reveal">
                        <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-cyan-500 ring-4 ring-slate-900"></div>
                        <h4 class="text-xl font-bold text-white">Phase 1: Read-only & Analytik</h4>
                        <p class="text-slate-400 mt-2">Risikoarm. Der Agent liest Daten und erstellt Auswertungen. Keine Schreibrechte auf Modelle.</p>
                    </div>

                    <!-- Phase 2 -->
                    <div class="relative pl-8 reveal">
                        <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-purple-500 ring-4 ring-slate-900"></div>
                        <h4 class="text-xl font-bold text-white">Phase 2: "Shadow Mode"</h4>
                        <p class="text-slate-400 mt-2">Agent schlägt Änderungen vor (Pull Requests). Menschlicher Review ist zwingend erforderlich.</p>
                    </div>

                    <!-- Phase 3 -->
                    <div class="relative pl-8 reveal">
                        <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-green-500 ring-4 ring-slate-900"></div>
                        <h4 class="text-xl font-bold text-white">Phase 3: Teilautomatisierung</h4>
                        <p class="text-slate-400 mt-2">Für Regressionstests in sicherem Rahmen (Sandbox). Strikte Policies steuern die Autonomie.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-950 py-8 border-t border-slate-900">
        <div class="container mx-auto px-6 text-center">
            <p class="text-slate-500 text-sm">Implementation Manager Application Case Study</p>
            <div class="mt-4 flex justify-center gap-4">
                <button class="bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-full text-sm font-bold transition-colors">
                    Hire Me
                </button>
            </div>
        </div>
    </footer>

    <!-- Three.js Implementation for Holographic Heat Pump -->
    <script>
        // Init Lucide Icons
        lucide.createIcons();

        // Reveal Animation on Scroll
        const revealElements = document.querySelectorAll('.reveal');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        revealElements.forEach(el => revealObserver.observe(el));

        // --- THREE.JS HOLOGRAM SCENE ---
        const container = document.getElementById('canvas-container');
        
        // Scene Setup
        const scene = new THREE.Scene();
        // Fog to blend with background
        scene.fog = new THREE.FogExp2(0x0f172a, 0.05);

        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        camera.position.z = 5;
        camera.position.y = 1;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        // Lighting (Minimal needed for basic material, but helps define shape)
        const ambientLight = new THREE.AmbientLight(0x06b6d4, 0.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 10, 7);
        scene.add(directionalLight);


        // --- HOLOGRAM MATERIALS ---
        const holoColor = 0x06b6d4; // Cyan
        // Base transparent material with additive blending for "glow"
        const holoMaterial = new THREE.MeshBasicMaterial({
            color: holoColor,
            transparent: true,
            opacity: 0.3,
            side: THREE.DoubleSide,
            blending: THREE.AdditiveBlending,
            depthWrite: false // Important for transparency sorting
        });
        // Wireframe overlay to define edges
        const holoWireframeMaterial = new THREE.MeshBasicMaterial({
            color: 0xa5f3fc, // Lighter cyan
            transparent: true,
            opacity: 0.4,
            wireframe: true,
            blending: THREE.AdditiveBlending
        });

        // --- HEAT PUMP GEOMETRY ---
        const heatPump = new THREE.Group();
        scene.add(heatPump);

        // 1. Main Outdoor Unit Box
        const mainBoxGeo = new THREE.BoxGeometry(3, 2.5, 1.5);
        const mainBox = new THREE.Mesh(mainBoxGeo, holoMaterial);
        const mainBoxWire = new THREE.Mesh(mainBoxGeo, holoWireframeMaterial);
        heatPump.add(mainBox);
        heatPump.add(mainBoxWire);

        // 2. Fan Area (Cylinder cut-out representation on front face)
        const fanHousingGeo = new THREE.CylinderGeometry(1, 1, 0.2, 32);
        const fanHousing = new THREE.Mesh(fanHousingGeo, holoMaterial);
        const fanHousingWire = new THREE.Mesh(fanHousingGeo, holoWireframeMaterial);
        
        const fanGroup = new THREE.Group();
        fanGroup.add(fanHousing);
        fanGroup.add(fanHousingWire);
        // Rotate to face forward and move to front face of box
        fanGroup.rotation.x = Math.PI / 2;
        fanGroup.position.z = 0.76; 
        heatPump.add(fanGroup);

        // 3. Fan Blades (Simple crossed planes inside the housing)
        const bladeGeo = new THREE.PlaneGeometry(1.8, 0.4);
        const blade1 = new THREE.Mesh(bladeGeo, holoWireframeMaterial);
        const blade2 = new THREE.Mesh(bladeGeo, holoWireframeMaterial);
        blade2.rotation.z = Math.PI / 2;
        
        const propeller = new THREE.Group();
        propeller.add(blade1);
        propeller.add(blade2);
        propeller.position.z = 0.77; // Slightly in front of housing back
        heatPump.add(propeller);

        // Initial orientation
        heatPump.rotation.y = -Math.PI / 6;

        // --- HOLOGRAPHIC PARTICLES (Dust/Projection noise) ---
        const particleCount = 150;
        const particlesGeo = new THREE.BufferGeometry();
        const posArray = new Float32Array(particleCount * 3);
        
        for(let i=0; i < particleCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 5;
        }
        particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particleMat = new THREE.PointsMaterial({
            size: 0.05,
            color: holoColor,
            transparent: true,
            opacity: 0.6,
            blending: THREE.AdditiveBlending
        });
        const particlesMesh = new THREE.Points(particlesGeo, particleMat);
        scene.add(particlesMesh);


        // --- ANIMATION LOOP ---
        let flickerTimer = 0;

        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            // 1. Slow Rotation of the entire unit
            heatPump.rotation.y += 0.002;

            // 2. Slow Rotation of the fan blades
            propeller.rotation.z -= 0.05;

            // 3. Gentle Floating
            heatPump.position.y = Math.sin(time * 0.5) * 0.1;

            // 4. Particle Movement (slowly rising)
            particlesMesh.rotation.y += 0.001;
            const positions = particlesGeo.attributes.position.array;
            for(let i = 1; i < positions.length; i += 3) {
                positions[i] += 0.005;
                if(positions[i] > 3) positions[i] = -3; // Reset height
            }
            particlesGeo.attributes.position.needsUpdate = true;

            // 5. FLICKER EFFECT
            // Randomly change opacity rapidly
            if (Math.random() > 0.92) {
                 // Flicker down
                 const flickerIntensity = Math.random() * 0.3;
                 holoMaterial.opacity = flickerIntensity;
                 holoWireframeMaterial.opacity = flickerIntensity;
                 particleMat.opacity = flickerIntensity;
            } else {
                 // Smooth return to base opacity
                 holoMaterial.opacity += (0.3 - holoMaterial.opacity) * 0.1;
                 holoWireframeMaterial.opacity += (0.4 - holoWireframeMaterial.opacity) * 0.1;
                 particleMat.opacity += (0.6 - particleMat.opacity) * 0.1;
            }

            renderer.render(scene, camera);
        }

        animate();

        // Handle Resize
        window.addEventListener('resize', () => {
            if (container) {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
        });
    </script>
</body>
</html>